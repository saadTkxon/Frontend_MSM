<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- FAVICON LINKS -->
    <link rel="icon" type="image/png" href="/assets/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="./assets/favicon/favicon.svg" />
    <link rel="shortcut icon" href="./assets/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="M$M Kosmetika" />
    <link rel="manifest" href="./assets/favicon/site.webmanifest" />

    <!-- CSS FILES LINKS -->
    <!-- <link rel="stylesheet" href="/msm_kosmetika_fin/css/global/global.css">
    <link rel="stylesheet" href="/msm_kosmetika_fin/css/global/fonts.css">
    <link rel="stylesheet" href="/msm_kosmetika_fin/css/global/root.css">
    <link rel="stylesheet" href="/msm_kosmetika_fin/css/global/loading.css">
    <link rel="stylesheet" href="/msm_kosmetika_fin/css/global/alert.css">
    <link rel="stylesheet" href="/msm_kosmetika_fin/css/account/resetPassword.css"> -->

        <!-- taimoor correction path -->

    <link rel="stylesheet" href="/css/global/global.css">
    <link rel="stylesheet" href="/css/global/fonts.css">
    <link rel="stylesheet" href="/css/global/root.css">
    <link rel="stylesheet" href="/css/global/loading.css">
    <link rel="stylesheet" href="/css/global/alert.css">
    <link rel="stylesheet" href="/css/account/resetPassword.css">


    <!-- <script src=""></script> -->
    <!-- WEBSITE TITLE -->
    <title>M$M - Reset Account Password</title>
</head>

<body onload="hidePagePreloading()">

    <div class="pagePreloading">
        <div class="loader">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
        </div>
    </div>

    <div class="loading" style="display: none;">
        <div class="loader">
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
            <div class="circle"></div>
        </div>
    </div>

    <div class="logoArea">
        <a href=""><img src="/assets/branding/logoOne.webp" alt=""></a>
    </div>

    <div class="formScreen">
        <div class="formArea">

            <div class="accountArea">
                <button class="goBack" onclick="window.location.href='/account.html';">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path fill="currentColor" d="m8.165 11.63l6.63-6.43C15.21 4.799 16 5.042 16 5.57v12.86c0 .528-.79.771-1.205.37l-6.63-6.43a.5.5 0 0 1 0-.74"/>
                    </svg>&nbsp;Go back
                </button>
                
                <form action="" class="resetPasswordForm" id="resetPasswordForm">
                    <h1>Forgot password?</h1>
                    <p>Don't worry we'll send you instructions to reset it.</p>
                    <div class="inputsArea">
                        <div class="oneInput">
                            <label for="resetPasswordEmail">E-mail <span>*</span></label>
                            <input type="email" placeholder="abc@example.com" name="resetPasswordEmail" id="resetPasswordEmail" required>
                        </div> 
                    </div>
                    <div class="submitBtnArea">
                        <button class="submitBtn">continue&nbsp;&nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M4 12h16m0 0l-6-6m6 6l-6 6" />
                            </svg></button>
                    </div>
                </form>

            </div>

        </div>
    </div>

    <div class="alert" style="display: none;">
        <div class="alertBadge">
            <button onclick="document.querySelector('.alert').style.display = 'none'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor"><circle cx="12" cy="12" r="10"/><path stroke-linecap="round" d="m14.5 9.5l-5 5m0-5l5 5"/></g></svg></button>
            <p>Alert data will be shown here. Alert data will be shown here.</p>
        </div>
    </div>

    <!-- JS FILES LINKS -->
    <script src="/js/global/pagePreloading.js"></script>



    <script src="/js/apiscalling/logout.js"></script>
    <script src="/js/apiscalling/forgot-password.js"></script>
</body>
<!-- <script>



document.getElementById("resetPasswordForm").addEventListener("submit", async function (e) {
    e.preventDefault();
    console.log("Form submitted");

    const email = document.getElementById("resetPasswordEmail").value;
    console.log("Email entered:", email);

    try {
        console.log("Sending request to server...");

        const response = await fetch("http://localhost:5000/usertrs/forgot_password", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify({ email: email }),
        });

        console.log("Response received:", response);
        const data = await response.json();
        console.log("Response data:", data);

        if (data.status === "success") {
            const { user_id, email } = data.response;
            console.log("User ID:", user_id, "Email:", email);

            // Store email and user_id in localStorage
            localStorage.setItem("user_id", user_id);
            localStorage.setItem("email", email);

            // const resetLink = data.response.reset_link;
            // console.log("Reset link:", resetLink);

            // Show alert after 1 second
            setTimeout(() => {
                if (confirm("Password reset link generated! Click OK to proceed.")) {
                    window.location.href ="http://127.0.0.1:5500/msm_kosmetika_fin/set-new-password.html" ;
                }
            }, 1000);

        } else {
            console.warn("Error message:", data.message);

            // Show alert after 1 second
            setTimeout(() => {
                alert(data.message);
            }, 1000);
        }
    } catch (error) {
        console.error("Fetch error:", error);

        // Show alert after 1 second
        setTimeout(() => {
            alert("Error: " + error.message);
        }, 1000);
    }
});







 


</script> -->


</html>